@model IEnumerable<WardFormsCore.Data.AllElement>

@{
    ViewBag.Title = "Index";
   // Layout = null;

}
<link href="~/Content/Gridster/demo.css" rel="stylesheet" />
<link href="~/Content/Gridster/jquery.gridster.css" rel="stylesheet" />
@*<script src="~/Content/Gridster/jquery.min.js"></script>*@
@*<script src="~/Gridster/jquery.gridster.js"></script>*@
<script src="~/Content/Gridster/jquery.gridster.min.js"></script>


@*<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap.min.js"></script>*@

@using (Html.BeginForm("create","Test","POST"))
{
    @Html.AntiForgeryToken()

    <div class="gridster" style="margin-top: 100px;">
        <ul>
            @foreach (var item in Model)
            {

                <li data-row="1" data-col="3" data-sizex="1" data-sizey="2" class="moveables">

                    <div class="form-horizontal" style="margin: 5px;">
                        <div class="form-group">
                            <label for="@item.DataElement" class="col-sm-3 control-label">@item.DataElement</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" id="@item.DataElement" name="@item.DEID" placeholder="@item.DataElement">
                            </div>
                        </div>
                    </div>
                </li>

            }

            @*<li data-row="1" data-col="4" data-sizex="1" data-sizey="1">2</li>
        <li data-row="3" data-col="2" data-sizex="3" data-sizey="1">3</li>
        <li data-row="4" data-col="1" data-sizex="1" data-sizey="1">4</li>
        <li data-row="3" data-col="1" data-sizex="1" data-sizey="1">5</li>
        <li data-row="4" data-col="2" data-sizex="1" data-sizey="1">6</li>
        <li data-row="5" data-col="2" data-sizex="1" data-sizey="1">7</li>
        <li data-row="4" data-col="4" data-sizex="1" data-sizey="1">8</li>
        <li data-row="1" data-col="6" data-sizex="1" data-sizey="3">9</li>*@
        </ul>

    </div>

    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Create" class="btn btn-default"/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" id="savechange" value="Save Changes" class="btn btn-default" />
        </div>
    </div>

    <script type="text/javascript">
        var gridster;


        $("#savechange").click(function (e) {
            e.preventDefault();

            $(".moveables").each(function (index) {
               alert(index + ": " + $(this).attr("data-col"));
            });

        //    alert("Handler for .click() called.");


        });
        $(function() {

            gridster = $(".gridster ul").gridster({
                widget_base_dimensions: [200, 100],
                widget_margins: [5, 5],
                helper: 'clone',
                resize: {
                    enabled: true
                }
            }).data('gridster');


        });
    </script>
}
